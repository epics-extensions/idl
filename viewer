#!/bin/csh -f
set HOST_ARCH = `/usr/local/epics/startup/HostArch`
setenv HOST_ARCH  $HOST_ARCH
set PVT_LOC = $EPICS_EXTENSIONS/bin/$HOST_ARCH

if ${?EPICS_EXTENSIONS_PVT} == 1 then 
	set PVT_LOC = $EPICS_EXTENSIONS_PVT/bin/$HOST_ARCH
endif

setenv IDL_DEVICE X

if $IDL_DIR == '/usr/local/rsi/idl_4' then
	source /usr/local/rsi/idl/bin/idl_setup
else
	source /usr/local/rsi/idl_5/bin/idl_setup
endif


setenv IDL_STARTUP $PVT_LOC/viewer_startup.pro

set xdr = "dcviewer"
if ( "$1" !=  "" ) then
        set xdr = $xdr',/XDR' 
endif

echo ".run view1d" >! go_viewer
echo ".run view2d" >>! go_viewer
echo ".run dcviewer" >>! go_viewer
echo "$xdr" >>! go_viewer
idl go_viewer
